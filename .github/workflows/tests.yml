name: ðŸ§ª Tests

on:
    push:
        branches:
            - main
            - develop
    pull_request:
        branches:
            - main
            - develop

permissions:
    contents: read

jobs:
    test-package-workflows:
        name: Test Package Workflows
        uses: ./.github/workflows/package-tests.yml
        with:
            dotnet-tests: '["sandbox/ConsoleApplication"]'
            global-json-file: sandbox/ConsoleApplication/global.json

    test-godot-project:
        name: Test Godot Project
        uses: ./.github/workflows/project-tests.yml
        with:
            godot-projects: '["sandbox/GodotApplication"]'
            global-json-file: sandbox/GodotApplication/global.json

    test-unity-project:
        name: Test Unity Project
        uses: ./.github/workflows/project-tests.yml
        with:
            unity-projects: '["sandbox/UnityApplication"]'
            global-json-file: sandbox/UnityApplication/global.json

    test-package-format:
        name: Test Package Format
        uses: ./.github/workflows/package-format.yml
        with:
            dotnet-projects: '["sandbox/ConsoleApplication", "sandbox/GodotApplication"]'
            global-json-file: sandbox/ConsoleApplication/global.json

    test-godot-project-format:
        name: Test Godot Project Format
        uses: ./.github/workflows/project-format.yml
        with:
            dotnet-projects: '["sandbox/GodotApplication"]'
            global-json-file: sandbox/GodotApplication/global.json

    test-unity-project-format:
        name: Test Unity Project Format
        uses: ./.github/workflows/project-format.yml
        with:
            dotnet-projects: '["sandbox/UnityApplication"]'
            global-json-file: sandbox/UnityApplication/global.json
